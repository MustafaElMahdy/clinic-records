{% extends "base.html" %}

{% block title %}Delete File - {{ attachment.original_filename }}{% endblock %}

{% block content %}
<div class="container my-4">
    <div class="row" style="align-items:center; justify-content:space-between; margin-bottom: 20px;">
        <div>
            <h1>Delete File Attachment</h1>
        </div>
        <a class="btn" href="{% url 'patients:detail' patient.pk %}">‚Üê Back</a>
    </div>

    <div class="alert alert-warning">
        <strong>Warning:</strong> This action cannot be undone!
    </div>

    <div class="card" style="margin-bottom: 20px;">
        <div class="card-body">
            <h5 class="card-title">{{ attachment.original_filename }}</h5>
            <p class="card-text">
                <strong>Patient:</strong> {{ attachment.patient.full_name }}<br>
                <strong>Type:</strong> {{ attachment.get_file_type_display }}<br>
                <strong>Size:</strong> {{ attachment.get_file_size_display }}<br>
                <strong>Uploaded:</strong> {{ attachment.uploaded_at|date:"Y-m-d H:i" }}<br>
                {% if attachment.title %}
                    <strong>Title:</strong> {{ attachment.title }}<br>
                {% endif %}
            </p>
        </div>
    </div>

    <p style="margin-bottom: 20px;">Are you sure you want to delete this file?</p>

    <form method="post">
        {% csrf_token %}
        <div class="d-flex gap-2">
            <button type="submit" class="btn danger">Yes, Delete</button>
            <a href="{% url 'patients:detail' patient.pk %}" class="btn">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
